<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>&lt;tt&gt;vk-bootstrap&lt;/tt&gt; | Illumination Engine A Game Development Engine Written In C++</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="IlluminationEngineLogo128.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m"><img src="IlluminationEngineLogo128.png" alt="" />Illumination Engine <span class="m-thin">A Game Development Engine Written In C++</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="https://joellogan.github.io">Main Page</a></li>
            <li><a href="pages.html">Pages</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          &lt;tt&gt;vk-bootstrap&lt;/tt&gt;
        </h1>
<p>A utility library that jump starts initialization of Vulkan</p><p>This library simplifies the tedious process of:</p><ul><li>Instance creation</li><li>Physical Device selection</li><li>Device creation</li><li>Getting queues</li><li>Swapchain creation</li></ul><p>It also adds several conveniences for:</p><ul><li>Enabling validation layers</li><li>Adding a debug callback messenger</li><li>Enabling extensions on a physical device</li><li>Select a gpu based on a set of criteria like features, extensions, memory, etc</li></ul><p>Read the <a href="md__illumination__engine_release_build__deps_vk_bootstrap_src_docs_getting_started.html" class="m-doc">Getting Started</a> guide for a quick start on using <code>vk-bootstrap</code></p><section id="autotoc_md10"><h2><a href="#autotoc_md10">Basic Usage</a></h2><pre class="m-code"><span class="cp">#include</span> <span class="cpf">&quot;VkBootstrap.h&quot;</span><span class="cp"></span>

<span class="kt">bool</span> <span class="nf">init_vulkan</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">vkb</span><span class="o">::</span><span class="n">InstanceBuilder</span> <span class="n">builder</span><span class="p">;</span>
    <span class="k">auto</span> <span class="n">inst_ret</span> <span class="o">=</span> <span class="n">builder</span><span class="p">.</span><span class="n">set_app_name</span> <span class="p">(</span><span class="s">&quot;Example Vulkan Application&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">request_validation_layers</span> <span class="p">()</span>
                        <span class="p">.</span><span class="n">use_default_debug_messenger</span> <span class="p">()</span>
                        <span class="p">.</span><span class="n">build</span> <span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">inst_ret</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Failed to create Vulkan instance. Error: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">inst_ret</span><span class="p">.</span><span class="n">error</span><span class="p">().</span><span class="n">message</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">vkb</span><span class="o">::</span><span class="n">Instance</span> <span class="n">vkb_inst</span> <span class="o">=</span> <span class="n">inst_ret</span><span class="p">.</span><span class="n">value</span> <span class="p">();</span>

    <span class="n">vkb</span><span class="o">::</span><span class="n">PhysicalDeviceSelector</span> <span class="n">selector</span><span class="p">{</span> <span class="n">vkb_inst</span> <span class="p">};</span>
    <span class="k">auto</span> <span class="n">phys_ret</span> <span class="o">=</span> <span class="n">selector</span><span class="p">.</span><span class="n">set_surface</span> <span class="p">(</span><span class="cm">/* from user created window*/</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">set_minimum_version</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// require a vulkan 1.1 capable device</span>
                        <span class="p">.</span><span class="n">require_dedicated_transfer_queue</span> <span class="p">()</span>
                        <span class="p">.</span><span class="n">select</span> <span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">phys_ret</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Failed to select Vulkan Physical Device. Error: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">phys_ret</span><span class="p">.</span><span class="n">error</span><span class="p">().</span><span class="n">message</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">vkb</span><span class="o">::</span><span class="n">DeviceBuilder</span> <span class="n">device_builder</span><span class="p">{</span> <span class="n">phys_ret</span><span class="p">.</span><span class="n">value</span> <span class="p">()</span> <span class="p">};</span>
    <span class="c1">// automatically propagate needed data from instance &amp; physical device</span>
    <span class="k">auto</span> <span class="n">dev_ret</span> <span class="o">=</span> <span class="n">device_builder</span><span class="p">.</span><span class="n">build</span> <span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">dev_ret</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Failed to create Vulkan device. Error: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">dev_ret</span><span class="p">.</span><span class="n">error</span><span class="p">().</span><span class="n">message</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">vkb</span><span class="o">::</span><span class="n">Device</span> <span class="n">vkb_device</span> <span class="o">=</span> <span class="n">dev_ret</span><span class="p">.</span><span class="n">value</span> <span class="p">();</span>

    <span class="c1">// Get the VkDevice handle used in the rest of a vulkan application</span>
    <span class="n">VkDevice</span> <span class="n">device</span> <span class="o">=</span> <span class="n">vkb_device</span><span class="p">.</span><span class="n">device</span><span class="p">;</span>

    <span class="c1">// Get the graphics queue with a helper function</span>
    <span class="k">auto</span> <span class="n">graphics_queue_ret</span> <span class="o">=</span> <span class="n">vkb_device</span><span class="p">.</span><span class="n">get_queue</span> <span class="p">(</span><span class="n">vkb</span><span class="o">::</span><span class="n">QueueType</span><span class="o">::</span><span class="n">graphics</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">graphics_queue_ret</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Failed to get graphics queue. Error: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">graphics_queue_ret</span><span class="p">.</span><span class="n">error</span><span class="p">().</span><span class="n">message</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">VkQueue</span> <span class="n">graphics_queue</span> <span class="o">=</span> <span class="n">graphics_queue_ret</span><span class="p">.</span><span class="n">value</span> <span class="p">();</span>

    <span class="c1">// Turned 400-500 lines of boilerplate into less than fifty.</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span></pre><p>See <code><a href="triangle_8cpp.html" class="m-doc">example/<wbr />triangle.cpp</a></code> for an example that renders a triangle to the screen.</p></section><section id="autotoc_md11"><h2><a href="#autotoc_md11">Setting up &lt;tt&gt;vk-bootstrap&lt;/tt&gt;</a></h2><p>This library has no external dependencies beyond C++14, its standard library, and the Vulkan Headers.</p><p>Note: on Unix platforms, <code>vk-bootstrap</code> will require the dynamic linker in order to compile as the library doesn&#x27;t link against <code>vulkan-1.dll</code>/<code>libvulkan.so</code> directly.</p><section id="autotoc_md12"><h3><a href="#autotoc_md12">Copy-Paste</a></h3><p>Copy the <code><a href="_vk_bootstrap_8h.html" class="m-doc">src/<wbr />VkBootstrap.h</a></code> and <code><a href="_vk_bootstrap_8cpp.html" class="m-doc">src/<wbr />VkBootstrap.cpp</a></code> files into your project, include them into your build, then compile as you normally would.</p><p><code>vk-bootstrap</code> is <em>not</em> a header only library, so no need to worry about macros in the header.</p><section id="autotoc_md13"><h4><a href="#autotoc_md13">Linux specific</a></h4><p>vk-bootstrap will load the required symbols at runtime, which requires that the application is linked to the system dynamic link. How the dynamic linker is linked into the project depends on the build system in question. If CMake is being used, link vk-bootstrap with <code>${CMAKE_DL_LIBS}</code>.</p></section></section><section id="autotoc_md14"><h3><a href="#autotoc_md14">git-submodule + CMake</a></h3><p>Add this project as a git-submodule into the root directory. Suggested is using a subdirectory to hold all submodules.</p><pre class="m-code">git submodule add https://github.com/charles-lunarg/vk-bootstrap</pre><p>With CMake, add the subdirectory to include the project</p><pre class="m-code"><span class="nb">add_subdirectory</span><span class="p">(</span><span class="s">vk-bootstrap</span><span class="p">)</span></pre><p>Then use <code>target_link_libraries</code> to use the library in whichever target needs it.</p><pre class="m-code"><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">your_application_name</span> <span class="s">vk-bootstrap::vk-bootstrap</span><span class="p">)</span></pre></section><section id="autotoc_md15"><h3><a href="#autotoc_md15">CMake Fetch Content</a></h3><p>If cmake 3.12 is available, use the FetchContent capability of cmake to directly download and build the library for you.</p><pre class="m-code"><span class="nb">include</span><span class="p">(</span><span class="s">FetchContent</span><span class="p">)</span>
<span class="nb">FetchContent_Declare</span><span class="p">(</span>
    <span class="s">fetch_vk_bootstrap</span>
    <span class="s">GIT_REPOSITORY</span> <span class="s">https://github.com/charles-lunarg/vk-bootstrap</span>
    <span class="s">GIT_TAG</span>        <span class="s">BRANCH_OR_TAG</span> <span class="c">#suggest using a tag so the library doesn&#39;t update whenever new commits are pushed to a branch </span>
<span class="p">)</span>
<span class="nb">FetchContent_MakeAvailable</span><span class="p">(</span><span class="s">fetch_vk_bootstrap</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">your_application_name</span> <span class="s">vk-bootstrap::vk-bootstrap</span><span class="p">)</span></pre></section><section id="autotoc_md16"><h3><a href="#autotoc_md16">Manually Building</a></h3><pre class="m-code">git clone https://github.com/charles-lunarg/vk-bootstrap
<span class="nb">cd</span> vk-bootstrap
mkdir build
<span class="nb">cd</span> build
cmake ..</pre></section><section id="autotoc_md17"><h3><a href="#autotoc_md17">Vulkan-Headers dependency</a></h3><p>By default, when using vk-bootstrap through CMake, it will attempt to locate the Vulkan-Headers on the system and fall back to downloading them directly if they aren&#x27;t present. If the <code>VK_BOOTSTRAP_VULKAN_HEADER_DIR</code> option is specified, it will use that directory instead.</p></section><section id="autotoc_md18"><h3><a href="#autotoc_md18">Testing</a></h3><p>Tests will be enabled if you open this project standalone. If you include this project as a subdirectory or sub-project, you can force enable tests by setting the option <code>VK_BOOTSTRAP_TEST</code> to <code>ON</code>. Testing requires GLFW and Catch2 but are acquired automatically using cmake fetch content.</p><pre class="m-code">cmake ../path/to/your_project/ -DVK_BOOTSTRAP_TEST<span class="o">=</span>ON</pre></section><section id="autotoc_md19"><h3><a href="#autotoc_md19">Build Options</a></h3><table class="m-table"><thead><tr><th>Name</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><code>VK_BOOTSTRAP_WERROR</code></td><td>bool</td><td><code>OFF</code></td><td>Enable warnings as errors during compilation.</td></tr><tr><td><code>VK_BOOTSTRAP_TEST</code></td><td>bool</td><td><code>OFF</code></td><td>Enable building of the tests in this project. Will download GLFW and Catch2 automatically if enabled.</td></tr><tr><td><code>VK_BOOTSTRAP_VULKAN_HEADER_DIR</code></td><td>string</td><td><code>&quot;&quot;</code></td><td>Optional. Specify the directory that contains the Vulkan Headers. Useful if you are downloading the headers manually and don&#x27;t want vk-bootstrap to download them itself.</td></tr></tbody></table></section></section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v2.js"></script>
<script src="searchdata-v2.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Illumination Engine A Game Development Engine Written In C++. Created with <a href="https://doxygen.org/">Doxygen</a> 1.9.4 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
