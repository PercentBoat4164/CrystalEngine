function (addAssImp target)
    set(ASSIMP_BUILD_ASSIMP_TOOLS OFF CACHE BOOL "" FORCE)
    set(ASSIMP_BUILD_SAMPLES OFF CACHE BOOL "" FORCE)
    set(ASSIMP_BUILD_TESTS OFF CACHE BOOL "" FORCE)
    set(ASSIMP_BUILD_ZLIB ON CACHE BOOL "" FORCE)
    if (EXISTS ${CMAKE_SOURCE_DIR}/deps/assimp)
        add_subdirectory(${CMAKE_SOURCE_DIR}/deps/assimp ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}/${target}/assimp)
        target_include_directories(${target} PUBLIC ${CMAKE_SOURCE_DIR}/deps/assimp/include)
        target_include_directories(${target} PUBLIC ${CMAKE_SOURCE_DIR}/deps/assimp/contrib/stb_image)
        target_link_libraries(${target} PUBLIC assimp::assimp ${assimp_LIBRARIES})
    else ()
        target_include_directories(${target} PUBLIC ${CMAKE_SOURCE_DIR}/deps/assimp/include)
        target_include_directories(${target} PUBLIC ${CMAKE_SOURCE_DIR}/deps/assimp/contrib/stb_image)
        target_link_libraries(${target} PUBLIC ${assimp_LIBRARIES})
    endif ()
endfunction ()

function (addGLM target)
    if ((NOT glm_FOUND) AND EXISTS ${CMAKE_SOURCE_DIR}/deps/glm)
        add_subdirectory(${CMAKE_SOURCE_DIR}/deps/glm ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}/${target}/glm)
        target_include_directories(${target} PUBLIC ${CMAKE_SOURCE_DIR}/deps/glm)
    endif ()
    target_link_libraries(${target} PUBLIC glm::glm ${glm_LIBRARIES})
    set(glm_FOUND ON)
endfunction ()

function (addGLFW target)
    set(GLFW_BUILD_DOCS OFF CACHE BOOL "" FORCE)
    set(GLFW_BUILD_TESTS OFF CACHE BOOL "" FORCE)
    set(GLFW_BUILD_EXAMPLES OFF CACHE BOOL "" FORCE)
    if ((NOT glfw3_FOUND) AND EXISTS ${CMAKE_SOURCE_DIR}/deps/glfw)
        add_subdirectory(${CMAKE_SOURCE_DIR}/deps/glfw ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}/${target}/glfw)
        target_include_directories(${target} PRIVATE ${CMAKE_SOURCE_DIR}/deps/glfw/include)
    endif ()
    target_link_libraries(${target} PUBLIC glfw ${GLFW_LIBRARIES})
    set(glfw3_FOUND ON)
endfunction ()

add_subdirectory(OpenGL)
add_subdirectory(Vulkan)
add_library(IEGraphicsModule graphicsModuleMain.cpp)
add_dependencies(IEGraphicsModule IEGraphicsModuleOpenGL)
add_dependencies(IEGraphicsModule IEGraphicsModuleVulkan)